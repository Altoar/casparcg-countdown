<!-- Display the countdown timer in an element -->
<html>
    <body>
        <div class="frame">
            <p id="countdown"></p>
        </div>
    </body>
</html>


<script src="jquery-3.4.1.min.js"></script>

<script src="jquery.countdown.min.js"></script>
<script src="caspar.js"></script>
<script>
function play(){
    console.log('play');
   $('body').fadeTo(600, '1.0');

}
// function update(){
//     $('#timer').text('test');
// }
function wipe(){

}
function stop(){
    $('body').fadeTo(600, '0.0');
}


function insertData(data){
    var cd_time = 10*60000
    if(data['countdown']) cd_time = data['countdown']
    if(data['font-size']) $("#countdown").css( "fontSize", data['font-size']+'px' );
    if(data['color']) $("#countdown").css( "color", data['color'] );

var userMilliseconds = (cd_time * 1000),
    dateMilliseconds = new Date().getTime(),
    milliseconds = dateMilliseconds + userMilliseconds,
    yyyy = new Date(milliseconds).getFullYear(),
    mm = new Date(milliseconds).getMonth()+1,
    dd = new Date(milliseconds).getDate(),
    hr = new Date(milliseconds).getHours(),
    min = new Date(milliseconds).getMinutes(),
    sec = new Date(milliseconds).getSeconds();

if(dd<10) dd='0'+dd
if(hr<10) hr='0'+hr
if(mm<10)  mm='0'+mm
if(sec<10) sec='0'+sec


var countdown = yyyy +'-' + mm +'-' + dd +' ' + hr + ':' + min + ':' + sec ;

if(cd_time > 0){
  $("#countdown").countdown(countdown, function(event){
    var totalHours = event.offset.totalDays * 24 + event.offset.hours;
    if(totalHours>0){
        if(totalHours<10){
            totalHours='0'+totalHours+':'
        }else{
            totalHours=totalHours+':'
        }
    }else{
        totalHours = ''
    }
    
    
    $(this).text(event.strftime(totalHours + '%M:%S'));

    
    if (event.elapsed) {
        $(this).text('');
    }
  });
} else {
  $("#countdown").css({"display": "none"});
}
}

</script>
<style >
@font-face {
  font-family: Roboto;
  src: url('Roboto/Roboto-Bold.ttf');
}
html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
}
body {
    opacity:0.0;
  -webkit-transform: translateZ(0);
  will-change: transform, opacity;
}
.frame {
    width: 1920px;
    height: 1080px;
    text-align: center;
}
#countdown {
    font-family: Roboto;
    color: blue;
    font-size: 40px;
}

</style>